<!doctype html>
<html lang="en">

<head>
    <!-- Meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="assets/style/style.css"> -->
    <!-- <link rel="resetsheet" href="assets/style/reset.css"> -->

    <title>Find a Pal Survey</title>
</head>

<body>

    <style>

        body {
        background:
    url("https://images.unsplash.com/photo-1516934024742-b461fba47600?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=4d38c917838d6435f6f676b2a5875be1&auto=format&fit=crop&w=634&q=80");
        background-repeat: no-repeat;
        background-size: cover;
    }
    
    .jumbotron {
        background-color: rgba(1, 49, 53);
        color: white;
        padding: 4% 4% 2% 4%;
    }
    
    .container {
        background-color: rgb(187, 217, 219, 0.5);
        color: rgba(1, 49, 53);
        padding: 4% 5% 1% 5%;
        align-content: center;
        text-align: center;
        border-radius: .5%;
        margin: 3% auto;
    }
    
    .form-group {
        text-align: left;
    }
    
    .btn {
        background-color:rgba(1, 49, 53);
        border:rgba(1, 49, 53);
        color: white;
        margin: 3%;
    }
    
    #newBFFModal {
    text-align: center;
    align-content: center;
    }
    
    a {
    color:rgba(1, 49, 53);
    }

</style>

    <div class="container">
        <div class="jumbotron">
            <h1>The Furry Friend Finder</h1>
            <br>
            <p>Answer these questions about your Best Furry
                Friend and we will match them with a Best FURRIER Friend! If your pal would strongly agree with the
                statement, choose 5. If
                they
                would strongly disagree, choose 1.</p>
            <br>
        </div>

        <!-- Survey -->
        <form>

            <div class="form-group">
                <h5>Name</h5>
                <input type="text" id="name" class="form-control" required="" placeholder="Your BFF's Name">
                <br>

                <h5>Here's Lookin' at You Kid!</h5>
                <input type="url" id="photo" class="form-control" required="" placeholder="Insert Image URL">
                <br>

                <h5>Tell us about yourself!</h5>
                <input type="url" id="about" class="form-control" required="" placeholder="Please keep your response under 300 characters">
                <br>

                <div>
                    <h5>You enjoy long walks in the park.</h5>
                    <select data-placeholder="" class="chosen-select" id="q1">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>You are always excited to play.</h5>
                    <select data-placeholder="" class="chosen-select" id="q2">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>A long nap in the sunshine makes you very happy.</h5>
                    <select data-placeholder="" class="chosen-select" id="q3">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>There is nothing better than curling up at home on the couch after dinner
                        with
                        your
                        BFF.</h5>
                    <select data-placeholder="" class="chosen-select" id="q4">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>You love seafood.</h5>
                    <select data-placeholder="" class="chosen-select" id="q5">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>Any food is good food to you.</h5>
                    <select data-placeholder="" class="chosen-select" id="q6">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>You shower everyone with love and affection.</h5>
                    <select data-placeholder="" class="chosen-select" id="q7">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>You are almost always calm, cool, and collected.</h5>
                    <select data-placeholder="" class="chosen-select" id="q8">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>You enjoy exploring new places.</h5>
                    <select data-placeholder="" class="chosen-select" id="q9">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>

                <div>
                    <h5>You are exceptionally loyal.</h5>
                    <select data-placeholder="" class="chosen-select" id="q10">
                        <option value=""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div><br>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-lg" id="submit">Submit</button>

            <hr>
            <footer class="footer">
                <p><a href="/api/friends" target="_blank">Pals for Your Pal</a><span> | </span>
                    <a href="https://github.com/" target="_blank">GitHub Repo</a></p>
            </footer>
    </div>

    <!-- Modal -->
    <div class="modal fade bd-modal-lg" id="newBFFModal" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title text-center" id="ModalLongTitle">Meet Your new BFF!</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <h2 id="newBFF"></h2>
                    <p id="newBFFBlurb">
                    </p> <img id="newBFFPhoto" src="#">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</body>

</html>

<script type="text/javascript">
    $("#submit").on("click", function (event) {
        event.preventDefault();
        // Form validation
        var valid = true;
        if ($("#name").val() === "" || $("#photo").val() === "" || $("#about").val() === "") {
            valid = false;
        } else if ($("#q1").val() === "" || $("#q2").val() === "" || $("#q3").val() === "" || $("#q4").val() === "" || $("#q5").val() === "" || $("#q6").val() === "" || $("#q7").val() === "" || $("#q8").val() === "" || $("#q9").val() === "" || $("#q10").val() === "") {
            valid = false;
        }
        if (valid === true) {
            // Create object for new pet data
            var newUser = {
                name: $("#name").val(),
                photo: $("#photo").val(),
                about: $("#about").val(),
                scores: [
                    $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val()
                ]
            };

            // Ajax call for post to trigger modal
            $.post("/api/friends", newUser, function (data) {
                $("#newBFF").text(data.name);
                $("#newBFFPhoto").attr("src", data.photo);
                $("#newBFFBlurb").text(data.about);
                $("#newBFFModal").modal("toggle");
            });
        } else {
            alert("It's seems as though you missed a field...");
        }
        // Clear form upon submission or reload
        $("#name").val("");
        $("#photo").val("");
        $("#about").val("");
        $("#q1").val("");
        $("#q2").val("");
        $("#q3").val("");
        $("#q4").val("");
        $("#q5").val("");
        $("#q6").val("");
        $("#q7").val("");
        $("#q8").val("");
        $("#q9").val("");
        $("#q10").val("");
    });

</script>